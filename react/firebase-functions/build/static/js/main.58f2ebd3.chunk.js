(this["webpackJsonptime-entries"]=this["webpackJsonptime-entries"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var i=n(10),c=n.n(i),r=n(20),a=n.n(r),s=(n(28),n(12)),u=(n(29),n(11)),o=n(23),l=n(3),j=n(4),d=function(){var e=Object(i.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1];Object(i.useEffect)((function(){var e=l.a.firestore().collection("times").where("user_id","==",l.a.auth().currentUser.uid).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(o.a)({id:e.id},e.data()))})),c(t)}));return function(){return e()}}),[]);var r=function(e){if(e){var t="celsius"===e.metric?"\xb0C":"\xb0F";return e.temperature?e.sky+" "+parseInt(e.temperature)+t:"-"}};return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Times List"}),Object(j.jsx)("ol",{children:n.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsxs)("div",{className:"time-entry",children:[Object(j.jsx)("span",{children:Object(j.jsx)("img",{height:"50",width:"50",src:e.imageUrl||"https://icons-for-free.com/iconfiles/png/512/clock+minute+time+timer+watch+icon-1320086045717163975.png"})}),Object(j.jsx)("span",{children:e.title}),Object(j.jsx)("span",{children:e.location}),Object(j.jsx)("span",{children:r(e.weather)}),Object(j.jsx)("code",{className:"time",children:e.time_seconds}),Object(j.jsx)("button",{onClick:function(){return t=e.id,n=e.imagePath,l.a.firestore().collection("times").doc(t).delete(),void l.a.storage().ref(n).delete();var t,n},children:"Delete"})]})},e.id)}))})]})},h=function(){var e=Object(i.useState)(),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)(),a=Object(s.a)(r,2),u=a[0],o=a[1],d=Object(i.useState)(),h=Object(s.a)(d,2),b=h[0],m=h[1],f=Object(i.useState)(),O=Object(s.a)(f,2),p=O[0],g=O[1];return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l.a.firestore().collection("times").add({title:n,time_seconds:parseInt(u),location:b,imageUrl:p?"https://www.google.com/images/spin-32.gif?a":null,user_id:l.a.auth().currentUser.uid}).then((function(e){if(c(""),m(""),o(""),p){var t=l.a.auth().currentUser.uid+"/"+e.id+"/"+p.name;return l.a.storage().ref(t).put(p).then((function(t){return t.ref.getDownloadURL().then((function(n){return e.update({imageUrl:n,imagePath:t.metadata.fullPath})}))}))}}))},children:[Object(j.jsx)("h4",{children:"Add Time Entry"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Title"}),Object(j.jsx)("input",{type:"text",value:n,onChange:function(e){return c(e.currentTarget.value)}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Time"}),Object(j.jsx)("input",{type:"number",value:u,onChange:function(e){return o(e.currentTarget.value)}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Location"}),Object(j.jsx)("input",{type:"text",value:b,onChange:function(e){return m(e.currentTarget.value)}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Image"}),Object(j.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return g(e.target.files[0])}})]}),Object(j.jsx)("button",{children:"Add Time Entry"})]})};var b=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"header",children:[Object(j.jsxs)("h1",{children:["Welcome to Time Tracker, ",u.a.auth().currentUser.displayName,"!"]}),Object(j.jsx)("button",{onClick:function(){return u.a.auth().signOut()},children:"Sign out"})]}),Object(j.jsx)(d,{}),Object(j.jsx)(h,{})]})},m=n(21),f=n.n(m),O=function(){var e={signInFlow:"popup",signInOptions:[u.a.auth.GoogleAuthProvider.PROVIDER_ID,u.a.auth.FacebookAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Time Tracker"}),Object(j.jsx)("p",{children:"Please sign-in:"}),Object(j.jsx)(f.a,{uiConfig:e,firebaseAuth:u.a.auth()})]})};var p=function(){var e=Object(i.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(i.useEffect)((function(){u.a.auth().onAuthStateChanged((function(e){c(!!e)}))}),[]),Object(j.jsx)("div",{className:"App",children:n?Object(j.jsx)(b,{}):Object(j.jsx)(O,{})})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),i(e),c(e),r(e),a(e)}))};n(43);(l.a.initializeApp({apiKey:"AIzaSyBY0y7adhWArVXBiFeyCvw0i5VV5RHzOwo",authDomain:"time-entries-12b5d.firebaseapp.com",projectId:"time-entries-12b5d",storageBucket:"time-entries-12b5d.appspot.com",messagingSenderId:"705048205294",appId:"1:705048205294:web:ab1468dbfa3a99450560ff",databaseURL:"https://time-entries-12b5d-default-rtdb.firebaseio.com/",measurementId:"G-CP628CHRQB"}),"localhost"===window.location.hostname)&&(l.a.firestore().useEmulator("localhost",8080),l.a.auth().useEmulator("http://localhost:9099"),l.a.storage().useEmulator("localhost",9199),l.a.functions().useEmulator("localhost",5001));a.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(p,{})}),document.getElementById("root")),g()}},[[44,1,2]]]);
//# sourceMappingURL=main.58f2ebd3.chunk.js.map